<nav class="navbar navbar-expand-sm navbar-light bg-light justify-content-between">
  <%= link_to(image_tag('logo.png', width: 150, height: 50), root_path, class: "mx-3") %>

  <div class="collapse navbar-collapse flex-grow-0" id="navbarSupportedContent">
     <ul class="navbar-nav navbar-nav mr-auto">
      <% if user_signed_in? %>
      <div class="button-avatar d-flex justify-content-between align-items-center mx-3 p-2" id="navbarDropdown">
        <li class="nav-item dropdown">
          <i class="fas fa-bars mx-2" data-toggle="dropdown"></i>
          <%= image_tag "placeholder.png", class: "avatar", data: { toggle: "dropdown" } %>
          <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown">
            <strong > <%=  current_user.email %> </strong>  
            <%= link_to "Edit User", edit_user_registration_path, class: "dropdown-item" %>
            <%= link_to "My Bookings", bookings_path, class: "dropdown-item" %>

            <!-- If a User is Admin (owner of a Flat) -->
            <% if current_user.owner == true  %>
              <%= link_to "My Flats", my_flats_path, class: "dropdown-item" %>
              <%= link_to "Insert a new flat", new_flat_path, class: "dropdown-item" %>
            <% end %>
            
            <div class="dropdown-divider"></div>
            <%= link_to "Log out", destroy_user_session_path, method: :delete, class: "dropdown-item" %>
          </div>
        </li>
      </div>
      <% else %>
      <div class="button-avatar d-flex justify-content-between align-items-center mx-3 p-2" id="navbarDropdown">
        <li class="nav-item dropdown">
          <i class="fas fa-bars mx-2" data-toggle="dropdown"></i>
          <%= image_tag "placeholder.png", class: "avatar", data: { toggle: "dropdown" } %>
          <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown">
            <%= link_to "Login", new_user_session_path, class: "dropdown-item" %>
            <%= link_to "Create Account", new_user_registration_path, class: "dropdown-item" %>
          </div>
        </li>
      </div>
      <% end %>
     </ul>
  </div>
</nav>
